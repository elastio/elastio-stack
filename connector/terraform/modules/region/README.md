# `elastio-connector-region` module

Deploys the Elastio Cloud Connector stack via a REST API call to the Elastio Portal. The final stack contains Lambda functions, DynamoDB databases, S3 buckets, AWS Batch compute environments and other non-IAM resources.

See the [`elastio-connector` module implementation](../../main.tf) for an example of how this module should be used.

## Installation

[Configure](../../README.md#configuring-the-terraform-modules-registry) the Elastio terraform module registry, and add this to your project:

```tf
module "elastio_connector_region" {
  source  = "terraform.cloudsmith.io/public/elastio-connector-region/aws"
  version = "0.33.0"

  // Provide input parameters
}
```

<!-- BEGIN_TF_DOCS -->

## Requirements

| Name                                                                     | Version |
| ------------------------------------------------------------------------ | ------- |
| <a name="requirement_terraform"></a> [terraform](#requirement_terraform) | ~> 1.0  |
| <a name="requirement_aws"></a> [aws](#requirement_aws)                   | ~> 5.0  |

## Providers

| Name                                                               | Version |
| ------------------------------------------------------------------ | ------- |
| <a name="provider_aws"></a> [aws](#provider_aws)                   | ~> 5.0  |
| <a name="provider_terraform"></a> [terraform](#provider_terraform) | n/a     |

## Modules

No modules.

## Resources

| Name                                                                                                                             | Type        |
| -------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| [terraform_data.elastio_cloud_connector](https://registry.terraform.io/providers/hashicorp/terraform/latest/docs/resources/data) | resource    |
| [aws_caller_identity.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity)    | data source |
| [aws_region.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region)                      | data source |

## Inputs

| Name                                                                                                   | Description                                                                                                                                                                                                                                                                                                                                               | Type                                                                         | Default | Required |
| ------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- | ------- | :------: |
| <a name="input_connector_account_stack"></a> [connector_account_stack](#input_connector_account_stack) | The Elastio Connector Account stack metadata. This is used to inherit the<br/> configs by the `region` stack. The value for this parameter can be<br/> provided as the `cloudformation_stack` output of the `account` module, or<br/> you could use a `data "aws_cloudformation_stack"` data source to fetch the<br/> stack metadata and provide it here. | <pre>object({<br/> name = string<br/> parameters = map(string)<br/> })</pre> | n/a     |   yes    |
| <a name="input_elastio_pat"></a> [elastio_pat](#input_elastio_pat)                                     | Personal Access Token generated by the Elastio Portal                                                                                                                                                                                                                                                                                                     | `string`                                                                     | n/a     |   yes    |
| <a name="input_elastio_tenant"></a> [elastio_tenant](#input_elastio_tenant)                            | Name of your Elastio tenant. For example `mycompany.app.elastio.com`                                                                                                                                                                                                                                                                                      | `string`                                                                     | n/a     |   yes    |
| <a name="input_region"></a> [region](#input_region)                                                    | The AWS region where the Elastio connector will be deployed. If not specified<br/> then the currently configured default region will be used.                                                                                                                                                                                                             | `string`                                                                     | `null`  |    no    |
| <a name="input_subnet_ids"></a> [subnet_ids](#input_subnet_ids)                                        | The IDs of the subnets where the Elastio connector will be deployed<br/><br/> Must be omitted if the `network_configuration` was set to `Auto` in the `account` module,<br/> in which case Elastio will automatically create a VPC and subnets.                                                                                                           | `list(string)`                                                               | `null`  |    no    |
| <a name="input_vpc_id"></a> [vpc_id](#input_vpc_id)                                                    | The ID of the VPC where the Elastio connector will be deployed.<br/><br/> Must be omitted if the `network_configuration` was set to `Auto` in the `account` module,<br/> in which case Elastio will automatically create a VPC and subnets.                                                                                                               | `string`                                                                     | `null`  |    no    |

## Outputs

No outputs.

<!-- END_TF_DOCS -->
